<?xml version="1.0" encoding="UTF-8"?>
<modification>
	<code>AwebCore</code>
	<name>Aweb Core</name>
	<version>1.0</version>
	<author>AWeb Design</author>
	<link>https://www.awebdesign.ro</link>
	<file path="system/engine/action.php">
		<operation>
			<search><![CDATA[class Action {]]></search>
			<add position="replace"><![CDATA[
/* Aweb Core Module */
require_once realpath(DIR_SYSTEM . '/../') . '/core/OcAction.php';

//use AwebCore\OcAction;
class Action extends OcAction {]]></add>
		</operation>
		<operation>
			<search><![CDATA[$class = 'Controller' . preg_replace('/[^a-zA-Z0-9]/', '', $this->route);]]></search>
			<add position="after"><![CDATA[
/* Aweb Core Module */
if($this->checkAwebCoreRoute($this->id)) {
	return $this->executeAwebCoreRoute();
}
]]></add>
		</operation>
	</file>
	<file path="catalog/controller/startup/router.php">
		<operation>
			<search><![CDATA[class ControllerStartupRouter extends Controller {]]></search>
			<add position="replace"><![CDATA[
/* Aweb Core Module */
require_once realpath(DIR_SYSTEM . '/../') . '/core/Loader.php';

use AwebCore\OcRouter;
class ControllerStartupRouter extends OcRouter {]]></add>
		</operation>
	</file>
	<file path="admin/controller/startup/router.php">
		<operation>
			<search><![CDATA[class ControllerStartupRouter extends Controller {]]></search>
			<add position="replace"><![CDATA[
/* Aweb Core Module */
require_once realpath(DIR_SYSTEM . '/../') . '/core/Loader.php';

use AwebCore\OcRouter;
class ControllerStartupRouter extends OcRouter {]]></add>
		</operation>
	</file>
	<!--Url routing START -->
	<file path="system/library/url.php">
		<operation>
			<search><![CDATA[class Url {]]></search>
			<add position="before"><![CDATA[
/* Aweb Core Module */
require_once realpath(DIR_SYSTEM . '/../') . '/core/Traits/OcCore.php';

use AwebCore\Traits\OcCore;
]]></add>
		</operation>
		<operation>
			<search><![CDATA[class Url {]]></search>
			<add position="after"><![CDATA[use OcCore;]]></add>
		</operation>
		<operation>
			<search><![CDATA[return $url;]]></search>
			<add position="replace"><![CDATA[return $this->routeUrl($url);]]></add>
		</operation>
	</file>
	<file path="catalog/controller/startup/seo_url.php">
		<operation>
			<search><![CDATA[class ControllerStartupSeoUrl]]></search>
			<add position="before"><![CDATA[
/* Aweb Core Module */
require_once realpath(DIR_SYSTEM . '/../') . '/core/Traits/OcCore.php';

use AwebCore\Traits\OcCore;
]]></add>
		</operation>
		<operation>
			<search><![CDATA[Controller {]]></search>
			<add position="after"><![CDATA[use OcCore;]]></add>
		</operation>
		<operation>
			<search><![CDATA[if (!isset($this->request->get['route'])) {]]></search>
			<add position="before"><![CDATA[/* Aweb Core Module */
		$this->routeCatalogSeoUrl();]]></add>
		</operation>
	</file>
	<!--Url routing END -->
</modification>